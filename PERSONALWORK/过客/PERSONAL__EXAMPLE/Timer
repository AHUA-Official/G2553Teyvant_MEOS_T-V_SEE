#include <msp430.h> 


/**
 * main.c
 */
int main(void)
{
    unsigned  cnt = 0;
	WDTCTL = WDTPW | WDTHOLD;	// stop watchdog timer
//	配置DCO频率为1MHZ
	DCOCTL = CALDCO_1MHZ;
	BCSCTL1 = CALBC1_1MHZ;
//	设置P1.6为输出
	P1DIR |= BIT6;
	

//	设置时钟源为SMCLK
	TA1CTL |= TASSEL_2;
//	设置工作模式为Up Mode
	TA1CTL |=MC_1;//Up Mode模式下，16bit Timer计数器 TAR从0递增到TACCR0，然后回到0，一直循环这个过程
//	设置定时间隔
	TA1CCR0 = 49999;
	while(1)
	{
	    if(TA1CTL & TAIFG)
	    {
	        cnt ++;
	        TA1CTL &= ~TAIFG;
	        if(cnt == 20)
	        {
	            P1OUT ^= BIT6;
	            cnt = 0;
	        }
	    }
	}
	return 0;
}
